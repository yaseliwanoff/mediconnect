{% extends 'main/base.html' %}
{% load static %}

{% block title %}My appointments{% endblock %}

{% block body %}
<ul>
  {% for appointment in appointments %}
    <li>
      <strong>{{ appointment.doctor }}</strong> ({{ appointment.doctor.specialization }}) on {{ appointment.appointment_datetime }}<br>
    </li>
  {% endfor %}
</ul>
{% if appointments %}
<div class="sidebar">
        <h2>Фильтры</h2>
        <form method="get">
            <!-- Фильтр по доктору -->
            <label for="doctor">Выберите врача:</label>
            <select name="doctor" id="doctor">
                <option value="">-- Все --</option>
                {% for doctor in doctors %}
                <option value="{{ doctor.id }}">{{ doctor }}</option>
                {% endfor %}
            </select>

            <!-- Фильтр по времени записи -->
            <label for="time">Выберите время записи:</label>
            <select name="time" id="time">
                <option value="">-- Все --</option>
                {% for time in appointment_times %}
                <option value="{{ time.id }}">{{ time }}</option>
                {% endfor %}
            </select>

            <button type="submit">Применить фильтры</button>
        </form>
    </div>
{% endif %}
{% endblock %}